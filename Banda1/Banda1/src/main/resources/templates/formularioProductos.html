<!DOCTYPE html>
<html lang="es">
	<head>
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <title>Rosario de Cádiz</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script th:src="@{/js/validacionProductos.js}" defer></script>
    
</head>
<style>

	.mensajeError{
		visibility: hidden;
	}

</style>

<body>

	<nav th:replace="~{fragmentos/menu::menu}"></nav>

	<div class="container">
	
		<form id="formulario" onsubmit="return enviarFormulario();" class="mb-3"  action="#" th:action="${productos.id != 0} ? @{/editarProducto/submit} : @{/productoNuevo/submit}" th:object="${productos}" method="post">
			
			<input th:if="${productos.id != 0}" type="hidden" name="id" th:field="*{id}" /> 
			
			<div class="form-group">
				<label for="nombre" class="form-label">Nombre Producto</label>	
				<input type="text" name="nombre" id="nombre" th:field="*{nombre}" placeholder="Nombre" /> 
			</div>
			
			<div class="mensajeError text-danger" id="errorNombre">Introduzca el nombre del producto</div>

			<div class="mb-3">
				<label name="cantidad" class="form-label">Cantidad</label>
				<input id="cantidad" type= "text" name="cantidad" th:field="*{cantidad}" placeholder="Cantidad" />
			</div>

			<div class="mensajeError text-danger" id="errorCantidad">Introduzca la cantidad del producto, no debe de ser negativo</div>
			
			<div class="mb-3">
				<label name="precio" class="form-label">Precio</label>
				<input id="precio" type="text" name="precio" th:field="*{precio}" placeholder="Precio" />
			</div>

			<div class="mensajeError text-danger" id="errorPrecio">Debes de indicar un precio válido(no se pueden incluir carácteres especiales)</div>
			
			<div class="mb-3">
				<label class= "form-label">Imagen</label>
				<input type="text" name="img" th:field="*{img}" placeholder="Img" />
			</div>
			
				<div>
				<label name="categoria" class="form-label">Categorias</label>
				<div class="form-check ml-3">
					<select id="categoria" th:field="*{categorias}">
						<option value="-1">---</option>
						<option th:each="categoria : ${categorias}" th:value="${categoria.id}"
							th:text="${categoria.nombre}">
							Categoria
						</option>
					</select>
				</div>
			</div>
			
			<button type="submit" id="enviar" name="enviar" class="btn btn-primary mb-2">Enviar</button>
		</form>
		
	</div>
</body>
</html>